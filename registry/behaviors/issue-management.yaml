behavior:
  name: issue-management
  version: 0.1.0
  description: A behavior to allow autonomous issue management with persistent tracking.
tools:
  - module: tool-issue
    source: git+https://github.com/microsoft/amplifier-collection-issues@main#subdirectory=modules/tool-issue
    description: |
      You have access to an issue_manager tool for persistent issue tracking with dependency management. When users mention issues, tasks, blockers, or ask about work to do, USE this tool - don't respond conversationally.

        The tool requires an `operation` parameter and accepts an optional `params` dictionary. Common operations include: list (to see issues), create (to add new issues), get_ready (to find work), get_blocked (to check blockers), update (to change status), close (to complete issues).

        **When a user asks "What issues are open?" or "What can I work on?", immediately use the tool to find out** - don't guess or respond conversationally.

        ## Core Workflow

        Use the issue_manager tool proactively to break down complex work, track progress, and manage blockers.

        ### When Given a Complex Task

        1. **Break It Down**
          - Analyze the task and identify subtasks
          - Use the issue_manager tool to create issues with appropriate priorities and dependencies
          - Priority levels: 0=critical, 1=high, 2=normal, 3=low, 4=deferred

        2. **Work Through Ready Issues**
          - Use the issue_manager tool to get issues that are ready to work on (no blockers)
          - Work on the highest priority issues first
          - Complete each issue fully before moving to the next

        3. **Handle Blockers Gracefully**
          - If you encounter a blocker, use the issue_manager tool to mark it as blocked
          - Move to the next ready issue and continue working

        4. **Present Blocking Questions Together**
          - When no ready work remains, check for blocked issues
          - Present ALL blocking questions to the user in a clear summary

        ## Available Operations

        The issue_manager tool supports:
        - **create** - Create new issues (params: title, issue_type, priority, deps)
        - **list** - List issues with filters (params: status, assignee, priority, limit)
        - **get** - Get details of a specific issue (params: issue_id)
        - **update** - Update issue fields (params: issue_id, status, priority, blocking_notes)
        - **close** - Mark issue as complete (params: issue_id, reason)
        - **get_ready** - Get issues ready to work on (params: limit, assignee, priority)
        - **get_blocked** - Get blocked issues

        Remember: You're working autonomously through a persistent issue queue. Use the issue_manager tool to check for ready work before asking what to do next.
    config:
      data_dir:
        description: File path to location to store issue data.
        type: string
        default: ~/.amplifier/issues
      auto_create_dir:
        description: Automatically create the data directory if it does not exist.
        type: boolean
        default: true
      actor:
        description: The actor identity to use for issue events (created_by,  updated_by, etc).
        type: string
        default: assistant
